<section class="container profile layout_padding">
  <div class="w-95 m-c">

    <div class="head">
      <img src="{{info.profile_picture}}" alt="" id="avatar">
      <div>
        <h1 id="name">{{info.name}}</h1>
        <h2 id="phone">{{info.phone}}</h2>
      </div>
    </div>
    <div class="info">
      <p>
        Email: <span id="email">{{info.email}}</span>
      </p>
      <p>

        ƒê·ªãa ch·ªâ: <span id="address">{{info.address}}</span>
      </p>
    </div>
    <a href="/logout"><button type="button" class="btn btn-outline-danger">ƒêƒÉng xu·∫•t</button></a>
  </div>

</section>
<section id="acceptingTrip" class="price-table layout_padding">


  <div class="trip-container content-wrapper">
    <h2>Chuy·∫øn ƒëang th·ª±c hi·ªán</h2>
    {{#if currentTrip}}
    <div class="client-info">
      {{#if currentTrip.name}}

      <img src="{{currentTrip.profile_picture}}" alt="" id="driverAvatar">
      <div>
        <h4 id="name">T√†i x·∫ø: {{currentTrip.name}}</h4>
        <a href="tel:{{currentTrip.phone}}" id="phone">{{currentTrip.phone}}</a>
      </div>
      {{else}}
      <h4>Chuy·∫øn ch∆∞a ƒë∆∞·ª£c nh·∫≠n</h4>
      {{/if}}
    </div>
    <div id="map">
    </div>
    <div class="trip-info row">
      <p class="col-sm-6 col-xs-12"><i class="fas fa-map-marker-alt"></i>ƒêi·ªÉm ƒë√≥n:
        <span>{{currentTrip.from_location}}</span>
      </p>
      <p class="col-sm-6 col-xs-12"><i class="fas fa-map-pin"></i>ƒêi·ªÉm ƒë·∫øn: <span>{{currentTrip.to_location}}</span></p>
      <p class="col-sm-6 col-xs-12"><i class="fas fa-route"></i>Qu·∫£ng ƒë∆∞·ªùng: <span
          id="distance">{{currentTrip.distance}}</span></p>
      <div class="col-sm-6 col-xs-12">
        <button><i class="fas fa-pen"></i></button>
        <input type="text" name="waitingTime" placeholder="Th·ªùi gian ch·ªù">
      </div>
      <p class="col-sm-6 col-xs-12"><i class="fas fa-money-bill-wave"></i>S·ªë ti·ªÅn: <span
          id="cost">{{currentTrip.cost}}</span></p>
      <p class="col-sm-6 col-xs-12"><i class="fas fa-info-circle"></i>Tr·∫°ng th√°i: <span id="status">{{transStatus
          currentTrip.status}}</span></p>

    </div>
    {{#if (eq currentTrip.status 'pending payment')}}
    <button id="paymentBtn" class="btn btn-success" data-toggle="modal" data-target="#paymentModal">Thanh to√°n</button>
    {{else}}
    <button id="cancelBtn" class="btn btn-danger" onclick="cancel()">H·ªßy chuy·∫øn</button>
    {{/if}}
    {{else}}
    <p>Ch∆∞a nh·∫≠n chuy·∫øn xe n√†o</p>
    {{/if}}
  </div>

  <!-- Modal -->
  <div class="modal fade" id="ratingModal" tabindex="-1" aria-labelledby="ratingModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ratingModalLabel">ƒê√°nh gi√° t√†i x·∫ø</h5>
          <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">X</button>
        </div>
        <div class="modal-body">
          <p>T√†i x·∫ø: <span id="driverName">Nguy·ªÖn VƒÉn A</span></p>

          <!-- Ch·ªçn s·ªë sao -->
          <div class="mb-3">
            <span class="star text-warning fs-4" onclick="setRating(1)"><i class="fas fa-star"></i></span>
            <span class="star text-warning fs-4" onclick="setRating(2)"><i class="fas fa-star"></i></span>
            <span class="star text-warning fs-4" onclick="setRating(3)"><i class="fas fa-star"></i></span>
            <span class="star text-warning fs-4" onclick="setRating(4)"><i class="fas fa-star"></i></span>
            <span class="star text-warning fs-4" onclick="setRating(5)"><i class="fas fa-star"></i></span>
          </div>

          <!-- √î nh·∫≠p nh·∫≠n x√©t -->
          <textarea id="reviewText" class="form-control" placeholder="Nh·∫≠p nh·∫≠n x√©t c·ªßa b·∫°n..."></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">H·ªßy</button>
          <button type="button" class="btn btn-primary" onclick="submitRating()">G·ª≠i</button>
        </div>
      </div>
    </div>
  </div>

</section>
<section class="trip_history layout_padding">
  <h4>L·ªãch s·ª≠ chuy·∫øn xe <i class="fas fa-chevron-up"></i><i class="fas fa-chevron-down hide"></i> </h4>
  <div class="table-responsive w-95 m-c">

    <table class="price-table hide">
      <thead>
        <tr>
          <th>M√£ chuy·∫øn</th>
          <th>Th·ªùi gian ƒë·∫∑t</th>
          <th>Lo·∫°i xe</th>
          <th>T·ªïng s·ªë km</th>
          <th>Th·ªùi gian ch·ªù (gi·ªù)</th>
          <th>S·ªë ti·ªÅn</th>
          <th>ƒêi·ªÉm ƒëi</th>
          <th>ƒêi·ªÉm ƒë·∫øn</th>
          <th>T√†i x·∫ø</th>
          <th>S·ªë ƒëi·ªán tho·∫°i t√†i x·∫ø</th>
          <th>Tr·∫°ng th√°i</th>
        </tr>
      </thead>
      <tbody>
        {{#each historyTrips}}
        <tr>
          <td>{{this.trip_id}}</td>
          <td>{{dateToDatetime this.order_time}}</td>
          <td>{{this.vehicle_type}}</td>
          <td>{{this.distance}}</td>
          <td>{{minToHour this.waiting_minutes}}</td>
          <td>{{this.cost}}</td>
          <td>{{this.from_location}}</td>
          <td>{{this.to_location}}</td>
          <td>{{this.name}}</td>
          <td>{{this.phone}}</td>
          <td>{{transStatus this.status}}</td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</section>
<!-- Modal -->
<div class="modal fade" id="paymentModal" tabindex="-1" role="dialog" aria-labelledby="paymentModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <h4 class="modal-title" id="paymentModalLabel">Ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n</h4>
      </div>

      <div class="modal-body">
        <form id="paymentForm">
          <div class="radio">
            <label>
              <input type="radio" name="paymentMethod" value="cash" checked>
              üíµ Thanh to√°n ti·ªÅn m·∫∑t
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="paymentMethod" value="online">
              üåê Thanh to√°n online (MoMo / ATM / th·∫ª ng√¢n h√†ng)
            </label>
          </div>
        </form>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Hu·ª∑</button>
        <button type="button" class="btn btn-primary" onclick="submitPayment()">Ti·∫øp t·ª•c</button>
      </div>

    </div>
  </div>
</div>